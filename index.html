<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cute Phrasal Verb Notebook ğŸ€</title>
    <link href="https://fonts.googleapis.com/css2?family=Gaegu:wght@400;700&family=Mali:wght@400;600;700&display=swap" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    
    <style>
        :root {
            --bg-color: #fff5f7; /* à¸Šà¸¡à¸à¸¹à¸­à¹ˆà¸­à¸™ */
            --primary: #ff8fab;   /* à¸Šà¸¡à¸à¸¹à¹€à¸‚à¹‰à¸¡ */
            --secondary: #8ecae6; /* à¸Ÿà¹‰à¸² */
            --accent: #ffb703;    /* à¹€à¸«à¸¥à¸·à¸­à¸‡ */
            --text: #5d576b;
            --white: #ffffff;
            --card-shadow: 0 8px 20px rgba(255, 143, 171, 0.2);
        }

        body {
            font-family: 'Mali', cursive;
            background-color: var(--bg-color);
            background-image: radial-gradient(#ffd6e0 15%, transparent 16%);
            background-size: 25px 25px;
            color: var(--text);
            margin: 0;
            padding-bottom: 50px;
        }

        /* --- Sticky Toolbar --- */
        .toolbar {
            position: sticky;
            top: 0;
            background: rgba(255, 255, 255, 0.95);
            padding: 10px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.05);
            display: flex;
            justify-content: center;
            gap: 10px;
            z-index: 1000;
            backdrop-filter: blur(5px);
            border-bottom: 2px dashed var(--primary);
        }

        .tool-btn {
            border: 2px solid var(--secondary);
            background: white;
            color: var(--text);
            padding: 5px 15px;
            border-radius: 15px;
            cursor: pointer;
            font-family: 'Mali', cursive;
            font-weight: bold;
            transition: 0.2s;
        }

        .tool-btn:hover { background: var(--secondary); color: white; transform: translateY(-2px); }
        .tool-btn.active { background: var(--primary); color: white; border-color: var(--primary); }

        /* Color Picker Wrapper */
        .color-wrapper { position: relative; display: inline-block; }
        #colorPicker { opacity: 0; position: absolute; left: 0; top: 0; width: 100%; height: 100%; cursor: pointer; }

        .container { max-width: 800px; margin: 20px auto; padding: 0 15px; }

        h1 { text-align: center; color: var(--primary); font-size: 2.5rem; text-shadow: 2px 2px 0 white; }

        /* --- Form Sections --- */
        .card {
            background: var(--white);
            border-radius: 25px;
            padding: 30px;
            margin-bottom: 25px;
            border: 4px solid white;
            box-shadow: var(--card-shadow);
        }

        .section-header {
            background: var(--primary);
            color: white;
            padding: 8px 20px;
            border-radius: 20px;
            display: inline-block;
            margin-bottom: 15px;
            font-size: 1.2rem;
            font-weight: bold;
            box-shadow: 3px 3px 0 var(--secondary);
        }

        .label {
            font-size: 0.9rem;
            color: var(--text);
            font-weight: bold;
            margin-top: 10px;
            display: block;
        }

        /* --- Editable Div (Rich Text Input) --- */
        .rich-input {
            width: 100%;
            min-height: 40px;
            padding: 10px;
            border: 2px dashed #ccc;
            border-radius: 15px;
            background: #fffdf9;
            margin-bottom: 10px;
            outline: none;
            transition: 0.3s;
            box-sizing: border-box;
            font-family: 'Kodchasan', sans-serif;
        }
        .rich-input:focus {
            border-color: var(--secondary);
            background: white;
            box-shadow: 0 0 10px rgba(142, 202, 230, 0.2);
        }

        /* GIF Input */
        .gif-input {
            border-color: var(--accent);
            background: #fffcf0;
        }

        /* --- Buttons --- */
        .btn-save {
            background: var(--primary);
            color: white;
            border: none;
            width: 100%;
            padding: 15px;
            border-radius: 50px;
            font-size: 1.5rem;
            font-family: 'Mali', cursive;
            cursor: pointer;
            box-shadow: 0 5px 0 #ef7a96;
            transition: 0.2s;
        }
        .btn-save:active { transform: translateY(4px); box-shadow: none; }

        /* --- Result Card --- */
        #output { margin-top: 40px; }
        .result-card {
            background: white;
            padding: 40px;
            border-radius: 20px;
            border: 5px solid var(--secondary);
            position: relative;
        }
        
        .result-gif-container {
            width: 100%;
            text-align: center;
            margin: 15px 0;
            border-radius: 15px;
            overflow: hidden;
        }
        .result-gif-container img, .result-gif-container iframe {
            max-width: 100%;
            border-radius: 10px;
        }

        .res-row { margin-bottom: 8px; line-height: 1.6; }
        .res-label { font-weight: bold; color: var(--primary); margin-right: 5px; }

        .block-divider {
            border-top: 2px dashed #eee;
            margin: 20px 0;
        }
        
        /* Grid for Footer */
        .footer-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
        }
        @media(max-width: 600px) { .footer-grid { grid-template-columns: 1fr; } }

    </style>
</head>
<body>

    <div class="toolbar">
        <button class="tool-btn" onclick="format('bold')"><i class="fas fa-bold"></i> à¸«à¸™à¸²</button>
        <button class="tool-btn" onclick="format('hiliteColor', '#fff700')"><i class="fas fa-highlighter"></i> à¹„à¸®à¹„à¸¥à¸•à¹Œ</button>
        <div class="color-wrapper tool-btn">
            <i class="fas fa-palette"></i> à¸ªà¸µ
            <input type="color" id="colorPicker" onchange="format('foreColor', this.value)">
        </div>
    </div>

    <div class="container">
        <h1>ğŸ° My Note ğŸ¥•</h1>

        <div class="card">
            <div class="label">à¸„à¸³à¸¨à¸±à¸à¸—à¹Œ + à¸­à¸´à¹‚à¸¡à¸ˆà¸´</div>
            <div class="rich-input" id="mainWord" contenteditable="true" style="font-size: 1.5rem; text-align: center;"></div>
        </div>

        <div class="card">
            <div class="section-header">Section 1</div>
            
            <div class="label">ğŸ¥ à¹„à¸Ÿà¸¥à¹Œ GIF (à¸¥à¸´à¸‡à¸à¹Œ à¸«à¸£à¸·à¸­ Embed Code)</div>
            <textarea id="gif1" class="rich-input gif-input" placeholder="à¸§à¸²à¸‡ URL à¸«à¸£à¸·à¸­ <iframe> à¸—à¸µà¹ˆà¸™à¸µà¹ˆ..."></textarea>

            <div class="label">ğŸ—ï¸ STRUCTURE 1</div>
            <div class="rich-input" id="str1" contenteditable="true"></div>

            <div class="label">ğŸ‡¬ğŸ‡§ EN 1</div>
            <div class="rich-input" id="en1" contenteditable="true"></div>

            <div class="footer-grid">
                <div><div class="label">ğŸ‡¹ğŸ‡­ TH 1.1</div><div class="rich-input" id="th1_1" contenteditable="true"></div></div>
                <div><div class="label">ğŸ‡¹ğŸ‡­ TH 1.2</div><div class="rich-input" id="th1_2" contenteditable="true"></div></div>
                <div><div class="label">ğŸ‡¹ğŸ‡­ TH 1.3</div><div class="rich-input" id="th1_3" contenteditable="true"></div></div>
                <div><div class="label">ğŸ‡¹ğŸ‡­ TH 1.4</div><div class="rich-input" id="th1_4" contenteditable="true"></div></div>
                <div><div class="label">ğŸ‡¹ğŸ‡­ TH 1.5</div><div class="rich-input" id="th1_5" contenteditable="true"></div></div>
            </div>

            <div class="block-divider"></div>
            <div class="label">ğŸ’¬ EX.1</div><div class="rich-input" id="ex1_1" contenteditable="true"></div>
            <div class="label">ğŸ’¬ EX.2</div><div class="rich-input" id="ex1_2" contenteditable="true"></div>
            <div class="label">ğŸ’¬ EX.3</div><div class="rich-input" id="ex1_3" contenteditable="true"></div>
            <div class="label">ğŸ’¬ EX.4</div><div class="rich-input" id="ex1_4" contenteditable="true"></div>
        </div>

        <div class="card">
            <div class="section-header" style="background: var(--secondary);">Section 2</div>
            
            <div class="label">ğŸ¥ à¹„à¸Ÿà¸¥à¹Œ GIF 2</div>
            <textarea id="gif2" class="rich-input gif-input"></textarea>

            <div class="label">ğŸ—ï¸ STRUCTURE 2</div>
            <div class="rich-input" id="str2" contenteditable="true"></div>
            <div class="label">ğŸ‡¬ğŸ‡§ EN 2</div>
            <div class="rich-input" id="en2" contenteditable="true"></div>

            <div class="footer-grid">
                <div><div class="label">ğŸ‡¹ğŸ‡­ TH 2.1</div><div class="rich-input" id="th2_1" contenteditable="true"></div></div>
                <div><div class="label">ğŸ‡¹ğŸ‡­ TH 2.2</div><div class="rich-input" id="th2_2" contenteditable="true"></div></div>
                <div><div class="label">ğŸ‡¹ğŸ‡­ TH 2.3</div><div class="rich-input" id="th2_3" contenteditable="true"></div></div>
                <div><div class="label">ğŸ‡¹ğŸ‡­ TH 2.4</div><div class="rich-input" id="th2_4" contenteditable="true"></div></div>
                <div><div class="label">ğŸ‡¹ğŸ‡­ TH 2.5</div><div class="rich-input" id="th2_5" contenteditable="true"></div></div>
            </div>

            <div class="block-divider"></div>
            <div class="label">ğŸ’¬ EX.1</div><div class="rich-input" id="ex2_1" contenteditable="true"></div>
            <div class="label">ğŸ’¬ EX.2</div><div class="rich-input" id="ex2_2" contenteditable="true"></div>
            <div class="label">ğŸ’¬ EX.3</div><div class="rich-input" id="ex2_3" contenteditable="true"></div>
            <div class="label">ğŸ’¬ EX.4</div><div class="rich-input" id="ex2_4" contenteditable="true"></div>
        </div>

        <div class="card">
            <div class="section-header" style="background: var(--accent);">Section 3</div>
            
            <div class="label">ğŸ¥ à¹„à¸Ÿà¸¥à¹Œ GIF 3</div>
            <textarea id="gif3" class="rich-input gif-input"></textarea>

            <div class="label">ğŸ—ï¸ STRUCTURE 3</div>
            <div class="rich-input" id="str3" contenteditable="true"></div>
            
            <div class="label">ğŸ§  MEANING 3</div>
            <div class="rich-input" id="mean3" contenteditable="true"></div>

            <div class="label">ğŸ‡¬ğŸ‡§ EN 3</div>
            <div class="rich-input" id="en3" contenteditable="true"></div>

            <div class="footer-grid">
                <div><div class="label">ğŸ‡¹ğŸ‡­ TH 3.1</div><div class="rich-input" id="th3_1" contenteditable="true"></div></div>
                <div><div class="label">ğŸ‡¹ğŸ‡­ TH 3.2</div><div class="rich-input" id="th3_2" contenteditable="true"></div></div>
                <div><div class="label">ğŸ‡¹ğŸ‡­ TH 3.3</div><div class="rich-input" id="th3_3" contenteditable="true"></div></div>
                <div><div class="label">ğŸ‡¹ğŸ‡­ TH 3.4</div><div class="rich-input" id="th3_4" contenteditable="true"></div></div>
                <div><div class="label">ğŸ‡¹ğŸ‡­ TH 3.5</div><div class="rich-input" id="th3_5" contenteditable="true"></div></div>
            </div>

            <div class="block-divider"></div>
            <div class="label">ğŸ’¬ EX.1</div><div class="rich-input" id="ex3_1" contenteditable="true"></div>
            <div class="label">ğŸ’¬ EX.2</div><div class="rich-input" id="ex3_2" contenteditable="true"></div>
            <div class="label">ğŸ’¬ EX.3</div><div class="rich-input" id="ex3_3" contenteditable="true"></div>
            <div class="label">ğŸ’¬ EX.4</div><div class="rich-input" id="ex3_4" contenteditable="true"></div>
        </div>

        <div class="card">
            <div class="section-header" style="background: #9d8189;">Section 4</div>
            
            <div class="label">ğŸ¥ à¹„à¸Ÿà¸¥à¹Œ GIF 4</div>
            <textarea id="gif4" class="rich-input gif-input"></textarea>

            <div class="label">ğŸ—ï¸ STRUCTURE 4</div>
            <div class="rich-input" id="str4" contenteditable="true"></div>
            <div class="label">ğŸ‡¬ğŸ‡§ EN 4</div>
            <div class="rich-input" id="en4" contenteditable="true"></div>

            <div class="footer-grid">
                <div><div class="label">ğŸ‡¹ğŸ‡­ TH 4.1</div><div class="rich-input" id="th4_1" contenteditable="true"></div></div>
                <div><div class="label">ğŸ‡¹ğŸ‡­ TH 4.2</div><div class="rich-input" id="th4_2" contenteditable="true"></div></div>
                <div><div class="label">ğŸ‡¹ğŸ‡­ TH 4.3</div><div class="rich-input" id="th4_3" contenteditable="true"></div></div>
                <div><div class="label">ğŸ‡¹ğŸ‡­ TH 4.4</div><div class="rich-input" id="th4_4" contenteditable="true"></div></div>
                <div><div class="label">ğŸ‡¹ğŸ‡­ TH 4.5</div><div class="rich-input" id="th4_5" contenteditable="true"></div></div>
            </div>
        </div>

        <div class="card">
            <div class="section-header" style="background: #5d576b;">Extra Info</div>
            <div class="footer-grid">
                <div><div class="label">ğŸ“˜ GRAMMAR</div><div class="rich-input" id="grammar" contenteditable="true"></div></div>
                <div><div class="label">ğŸŒ± DERIVE WORDS</div><div class="rich-input" id="derive" contenteditable="true"></div></div>
                <div><div class="label">ğŸ‘¨â€ğŸ‘©â€ğŸ‘§ WORD FAMILY</div><div class="rich-input" id="family" contenteditable="true"></div></div>
                <div><div class="label">ğŸ”„ SYN/OP</div><div class="rich-input" id="synop" contenteditable="true"></div></div>
            </div>
            <div class="label">ğŸ§© SYNTAX</div><div class="rich-input" id="syntax" contenteditable="true"></div>
            <div class="label">ğŸ’¡ FYI</div><div class="rich-input" id="fyi" contenteditable="true"></div>
        </div>

        <button class="btn-save" onclick="generateCard()">âœ¨ à¸šà¸±à¸™à¸—à¸¶à¸ (Generate Card) âœ¨</button>

        <div id="output"></div>
    </div>

    <script>
        // à¸Ÿà¸±à¸‡à¸à¹Œà¸Šà¸±à¸™à¸ˆà¸±à¸”à¸à¸²à¸£ Rich Text
        function format(command, value) {
            document.execCommand(command, false, value);
        }

        // à¸Ÿà¸±à¸‡à¸à¹Œà¸Šà¸±à¸™à¸”à¸¶à¸‡à¸„à¹ˆà¸² HTML
        function getHTML(id) {
            return document.getElementById(id).innerHTML;
        }

        // à¸Ÿà¸±à¸‡à¸à¹Œà¸Šà¸±à¸™à¸ˆà¸±à¸”à¸à¸²à¸£ GIF
        function renderGIF(id) {
            const raw = document.getElementById(id).value.trim();
            if(!raw) return '';
            
            if (raw.startsWith('<iframe') || raw.startsWith('<img')) {
                return `<div class="result-gif-container">${raw}</div>`;
            } else if (raw.startsWith('http')) {
                return `<div class="result-gif-container"><img src="${raw}"></div>`;
            }
            return '';
        }

        // à¸Ÿà¸±à¸‡à¸à¹Œà¸Šà¸±à¸™à¸ªà¸£à¹‰à¸²à¸‡ Row
        function createRow(label, htmlContent, colorClass) {
            if (!htmlContent || htmlContent === '<br>') return '';
            return `<div class="res-row"><span class="res-label" style="color:${colorClass}">${label}:</span> ${htmlContent}</div>`;
        }

        function generateCard() {
            const mainWord = getHTML('mainWord');
            if(!mainWord) { alert('à¸à¸£à¸¸à¸“à¸²à¹ƒà¸ªà¹ˆà¸„à¸³à¸¨à¸±à¸à¸—à¹Œà¸à¹ˆà¸­à¸™à¸™à¸°à¸„à¸° ğŸ¥º'); return; }

            let html = `
                <div class="result-card">
                    <h2 style="text-align:center; color:var(--primary); font-size:2rem; margin-bottom:20px; border-bottom:2px dashed #eee; padding-bottom:15px;">
                        ${mainWord}
                    </h2>
            `;

            // --- Section 1 ---
            html += renderGIF('gif1');
            html += `<h3 style="background:#ffeaef; padding:5px 10px; border-radius:10px; display:inline-block;">1ï¸âƒ£ Section 1</h3>`;
            html += createRow('STRUCTURE', getHTML('str1'), '#ff8fab');
            html += createRow('EN', getHTML('en1'), '#5d576b');
            // Loop TH
            for(let i=1; i<=5; i++) html += createRow(`TH 1.${i}`, getHTML(`th1_${i}`), '#8ecae6');
            // Loop EX
            html += `<div style="margin-top:10px; padding-left:10px; border-left:3px solid #eee;">`;
            for(let i=1; i<=4; i++) html += createRow(`EX.${i}`, getHTML(`ex1_${i}`), '#999');
            html += `</div><hr style="border:1px dashed #eee; margin:15px 0;">`;

            // --- Section 2 ---
            html += renderGIF('gif2');
            html += `<h3 style="background:#e0f4ff; padding:5px 10px; border-radius:10px; display:inline-block;">2ï¸âƒ£ Section 2</h3>`;
            html += createRow('STRUCTURE', getHTML('str2'), '#ff8fab');
            html += createRow('EN', getHTML('en2'), '#5d576b');
            for(let i=1; i<=5; i++) html += createRow(`TH 2.${i}`, getHTML(`th2_${i}`), '#8ecae6');
            html += `<div style="margin-top:10px; padding-left:10px; border-left:3px solid #eee;">`;
            for(let i=1; i<=4; i++) html += createRow(`EX.${i}`, getHTML(`ex2_${i}`), '#999');
            html += `</div><hr style="border:1px dashed #eee; margin:15px 0;">`;

            // --- Section 3 ---
            html += renderGIF('gif3');
            html += `<h3 style="background:#fff4cc; padding:5px 10px; border-radius:10px; display:inline-block;">3ï¸âƒ£ Section 3</h3>`;
            html += createRow('STRUCTURE', getHTML('str3'), '#ff8fab');
            html += createRow('MEANING', getHTML('mean3'), '#ffb703');
            html += createRow('EN', getHTML('en3'), '#5d576b');
            for(let i=1; i<=5; i++) html += createRow(`TH 3.${i}`, getHTML(`th3_${i}`), '#8ecae6');
            html += `<div style="margin-top:10px; padding-left:10px; border-left:3px solid #eee;">`;
            for(let i=1; i<=4; i++) html += createRow(`EX.${i}`, getHTML(`ex3_${i}`), '#999');
            html += `</div><hr style="border:1px dashed #eee; margin:15px 0;">`;

            // --- Section 4 ---
            html += renderGIF('gif4');
            html += `<h3 style="background:#e8e8e8; padding:5px 10px; border-radius:10px; display:inline-block;">4ï¸âƒ£ Section 4</h3>`;
            html += createRow('STRUCTURE', getHTML('str4'), '#ff8fab');
            html += createRow('EN', getHTML('en4'), '#5d576b');
            for(let i=1; i<=5; i++) html += createRow(`TH 4.${i}`, getHTML(`th4_${i}`), '#8ecae6');
            html += `<hr style="border:2px solid var(--primary); margin:20px 0;">`;

            // --- Footer ---
            html += `<div style="background:#f9f9f9; padding:15px; border-radius:15px;">`;
            html += createRow('GRAMMAR', getHTML('grammar'), '#ff8fab');
            html += createRow('DERIVE', getHTML('derive'), '#ff8fab');
            html += createRow('FAMILY', getHTML('family'), '#ff8fab');
            html += createRow('SYN/OP', getHTML('synop'), '#ff8fab');
            html += createRow('SYNTAX', getHTML('syntax'), '#ff8fab');
            html += createRow('ğŸ’¡ FYI', getHTML('fyi'), '#ffb703');
            html += `</div></div>`;

            document.getElementById('output').innerHTML = html;
            
            // Scroll to result
            document.getElementById('output').scrollIntoView({ behavior: 'smooth' });
        }
    </script>
</body>
</html>
